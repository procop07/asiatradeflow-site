<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsiaTradeFlow - Southeast Asia Product Discovery & Logistics</title>
    <link rel="stylesheet" href="style.css">
    <meta name="description" content="Discover profitable products from Southeast Asia (SEA) with AsiaTradeFlow. We provide product sourcing and transparent logistics calculations, focusing on items like Thai sea salt.">
    <meta name="keywords" content="AsiaTradeFlow, Southeast Asia, SEA, product discovery, logistics, shipping calculator, Thai sea salt, import, export, trade">
    <meta name="author" content="AsiaTradeFlow">
    <link rel="canonical" href="https://asiatradeflow.com/">
    <style type="text/css">
    /* Styles for calculator.html */
    body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }

    main {
        flex-grow: 1;
        padding: 20px;
        max-width: 800px;
        margin: 0 auto; /* Center the main content */
    }

    .calculator-container {
        background-color: #ffffff;
        padding: 25px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .calculator-container h2 {
        text-align: center;
        margin-bottom: 20px;
        color: #004d40; /* Dark Teal from main style */
    }

    .form-group {
        margin-bottom: 15px;
    }

    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #333;
    }

    .form-group select,
    .form-group input[type="number"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

    button#calculate-btn {
        background-color: #007bff; /* Blue from main style */
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        display: block;
        width: 100%;
        margin-top: 10px;
    }

    button#calculate-btn:hover {
        background-color: #0056b3; /* Darker blue */
    }

    .results-container {
        margin-top: 25px;
        padding: 20px;
        background-color: #e0f7fa; /* Light cyan, similar to hero */
        border: 1px solid #b2ebf2; /* Lighter border */
        border-radius: 5px;
    }

    .results-container h3 {
        margin-top: 0;
        color: #004d40;
    }

    .results-container p {
        margin: 8px 0;
        font-size: 1.1em;
    }

    footer {
        text-align: center;
        padding: 15px;
        background-color: #333; /* Dark footer */
        color: white;
        margin-top: auto;
    }
    footer a {
        color: #87ceeb; /* Sky blue for links in footer */
    }
    </style>
</head>
<body>
    <header>
        <h1>üåä AsiaTradeFlow - Southeast Asia Product Discovery & Logistics</h1>
        <p>Discover profitable products from Southeast Asia with transparent logistics solutions.</p>
        <nav class="main-nav">
            <a href="./index.html">–ì–ª–∞–≤–Ω–∞—è</a> |
            <a href="./calculator/calculator.html">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a> |
            <a href="./blog/index.html">–ë–ª–æ–≥</a> |
            <a href="./feed.xml" target="_blank">RSS</a>
        </nav>
    </header>

    <section class="hero">
        <p>Unlock the potential of Southeast Asian markets. We find unique products and provide clear logistics, helping you maximize profitability.</p>
    </section>

    <section class="products">
        <h2>Featured Products: Thai Sea Salt Varieties</h2>
        <div class="product-grid">
            <div class="product-card">
                <img src="./images/thai-coarse-salt.jpg" alt="Coarse Sea Salt" style="width:100%;max-height:150px;object-fit:cover;">
                <h3>–ö—Ä—É–ø–Ω–∞—è –º–æ—Ä—Å–∫–∞—è —Å–æ–ª—å (Gulf of Thailand)</h3>
                <p>–¶–µ–Ω–∞: 20-25 THB (‚âà$0.55-0.69) / –∫–≥</p>
                <p>–õ–æ–≥–∏—Å—Ç–∏–∫–∞/–ø–∞–ª–ª–µ—Ç: $350-500</p>
                <span class="margin">–ú–∞—Ä–∂–∞: 150-250%</span>
                <p><a href="./products/thai-coarse-salt.html" class="btn-details">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></p>
            </div>
            <div class="product-card">
                <img src="./images/thai-fine-salt.jpg" alt="Fine Sea Salt" style="width:100%;max-height:150px;object-fit:cover;">
                <h3>–ú–µ–ª–∫–∞—è –º–æ—Ä—Å–∫–∞—è —Å–æ–ª—å (Gulf of Thailand)</h3>
                <p>–¶–µ–Ω–∞: 23-28 THB (‚âà$0.63-0.77) / –∫–≥</p>
                <p>–õ–æ–≥–∏—Å—Ç–∏–∫–∞/–ø–∞–ª–ª–µ—Ç: $350-500</p>
                <span class="margin">–ú–∞—Ä–∂–∞: 180-300%</span>
                <p><a href="./products/thai-fine-salt.html" class="btn-details">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></p>
            </div>
            <div class="product-card">
                <img src="./images/thai-fleur-de-sel.jpg" alt="Fleur de Sel" style="width:100%;max-height:150px;object-fit:cover;">
                <h3>–§–ª—ë—Ä –¥–µ –°–µ–ª—å (Andaman Coast)</h3>
                <p>–¶–µ–Ω–∞: 120-150 THB (‚âà$3.30-4.15) / –∫–≥</p>
                <p>–õ–æ–≥–∏—Å—Ç–∏–∫–∞/–ø–∞–ª–ª–µ—Ç: $200-320</p>
                <span class="margin">–ú–∞—Ä–∂–∞: 200-400%</span>
                <p><a href="./products/thai-fleur-de-sel.html" class="btn-details">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></p>
            </div>
        </div>
    </section>

    <section class="calculator">
        <div class="calculator-container"> <!-- This class is styled by calculator.css -->
            <h2>Interactive Shipping Calculator</h2> <!-- Adapted heading -->

            <div class="form-group">
                <label for="product-select">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç:</label>
                <select id="product-select" name="product"></select>
            </div>

            <div class="form-group">
                <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–∫–≥):</label>
                <input type="number" id="quantity" name="quantity" min="1" value="1000">
            </div>

            <div class="form-group">
                <label for="destination-select">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è:</label>
                <select id="destination-select" name="destination"></select>
            </div>

            <button id="calculate-btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>

            <div id="results-container" class="results-container" style="display:none;">
                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞:</h3>
                <p id="product-name-result"></p>
                <p id="quantity-result"></p>
                <p id="destination-result"></p>
                <hr>
                <p id="product-cost-result"></p>
                <p id="shipping-cost-result"></p>
                <p id="total-landed-cost-result"></p>
                <hr>
                <p id="cost-per-unit-result"></p>
                <small id="disclaimer-result"></small>
            </div>
        </div>
    </section>

    <section class="rss-subscribe">
        <h2>Stay Updated</h2>
        <p>Subscribe to our RSS feed to get the latest product discoveries and logistics insights: <a href='./feed.xml' target='_blank'>Subscribe to RSS Feed</a></p>
    </section>
    <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', () => {
    const productSelect = document.getElementById('product-select');
    const quantityInput = document.getElementById('quantity');
    const destinationSelect = document.getElementById('destination-select');
    const calculateBtn = document.getElementById('calculate-btn');
    const resultsContainer = document.getElementById('results-container');

    const productNameResult = document.getElementById('product-name-result');
    const quantityResult = document.getElementById('quantity-result');
    const destinationResult = document.getElementById('destination-result');
    const productCostResult = document.getElementById('product-cost-result');
    const shippingCostResult = document.getElementById('shipping-cost-result');
    const totalLandedCostResult = document.getElementById('total-landed-cost-result');
    const costPerUnitResult = document.getElementById('cost-per-unit-result');
    const disclaimerResult = document.getElementById('disclaimer-result');

    let productsData = [];
    const defaultCurrency = 'USD'; // Calculations will be primarily in USD

    // Fetch product data
    fetch('./products/products.json')
        .then(response => response.json())
        .then(data => {
            productsData = data.products;
            populateProductSelect(productsData);
            // Populate destinations based on the first product initially
            if (productsData.length > 0) {
                populateDestinationSelect(productsData[0]);
            }
        })
        .catch(error => {
            console.error('Error fetching products.json:', error);
            resultsContainer.innerHTML = '<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</p>';
            resultsContainer.style.display = 'block';
        });

    function populateProductSelect(products) {
        products.forEach(product => {
            const option = document.createElement('option');
            option.value = product.id;
            option.textContent = product.name;
            productSelect.appendChild(option);
        });
        // Add event listener to update destinations when product changes
        productSelect.addEventListener('change', (event) => {
            const selectedProduct = productsData.find(p => p.id === event.target.value);
            if (selectedProduct) {
                populateDestinationSelect(selectedProduct);
            }
        });
    }

    function populateDestinationSelect(product) {
        // Clear previous options
        destinationSelect.innerHTML = '';
        if (product.shipping_cost_per_pallet_usd) {
            Object.keys(product.shipping_cost_per_pallet_usd).forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                // Replace underscores with spaces for display
                option.textContent = city.replace(/_/g, ' ');
                destinationSelect.appendChild(option);
            });
        }
    }

    calculateBtn.addEventListener('click', () => {
        const selectedProductId = productSelect.value;
        const quantity = parseFloat(quantityInput.value);
        const destination = destinationSelect.value;

        if (!selectedProductId || isNaN(quantity) || quantity <= 0 || !destination) {
            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç, —É–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.');
            return;
        }

        const product = productsData.find(p => p.id === selectedProductId);
        if (!product) {
            alert('–í—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.');
            return;
        }

        // --- Calculation Logic ---
        // Product Cost
        // Using the higher end of the USD price range for calculation.
        // Example: "0.55-0.69" -> use 0.69
        const priceRangeParts = product.price_usd_per_kg.split('-');
        const productPricePerKg = parseFloat(priceRangeParts[priceRangeParts.length - 1]);
        if (isNaN(productPricePerKg)) {
            alert('–û—à–∏–±–∫–∞ –≤ –¥–∞–Ω–Ω—ã—Ö –æ —Ü–µ–Ω–µ –ø—Ä–æ–¥—É–∫—Ç–∞.');
            return;
        }
        const totalProductCost = productPricePerKg * quantity;

        // Shipping Cost
        const palletCapacityKg = product.pallet_capacity_kg || 1000; // Default if not specified
        const shippingCostPerPallet = product.shipping_cost_per_pallet_usd[destination];

        if (typeof shippingCostPerPallet === 'undefined') {
             alert('–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.');
             return;
        }

        const numberOfPallets = Math.ceil(quantity / palletCapacityKg);
        const totalShippingCost = numberOfPallets * shippingCostPerPallet;

        // Total Landed Cost
        const totalLandedCost = totalProductCost + totalShippingCost;
        const costPerUnit = totalLandedCost / quantity;

        // Display results
        productNameResult.textContent = `–ü—Ä–æ–¥—É–∫—Ç: ${product.name}`;
        quantityResult.textContent = `–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${quantity} –∫–≥`;
        destinationResult.textContent = `–ì–æ—Ä–æ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è: ${destination.replace(/_/g, ' ')}`;

        productCostResult.textContent = `–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞: $${totalProductCost.toFixed(2)} USD`;
        shippingCostResult.textContent = `–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏: $${totalShippingCost.toFixed(2)} USD (${numberOfPallets} –ø–∞–ª–ª–µ—Ç(—ã))`;
        totalLandedCostResult.textContent = `–ò–¢–û–ì–û (—Ç–æ–≤–∞—Ä + –¥–æ—Å—Ç–∞–≤–∫–∞): $${totalLandedCost.toFixed(2)} USD`;
        costPerUnitResult.innerHTML = `<strong>–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –∫–≥ (—Å –¥–æ—Å—Ç–∞–≤–∫–æ–π): $${costPerUnit.toFixed(2)} USD/–∫–≥</strong>`;

        disclaimerResult.textContent = '–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã —è–≤–ª—è—é—Ç—Å—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–º–∏ –∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö. –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞.';
        resultsContainer.style.display = 'block';
    });
});
    </script>
</body>
</html>
